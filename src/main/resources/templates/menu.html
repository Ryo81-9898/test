<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>メニュー</title>
	<link rel="stylesheet" th:href="@{/css/style.css}" />
	<link rel="stylesheet" th:href="@{/css/menu.css}" />
	<script th:src="@{/js/menu.js}" defer></script>
	<script th:src="@{/js/style.js}" defer></script>

	<!-- zen-maru-gothic-regular -->
	<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&display=swap" rel="stylesheet">

	<!-- Font Awesome CDN 読み込み -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>

<body>
	<!-- ✅ 自動ログアウト時だけ表示する専用メッセージ -->
	<div th:if="${param.timeout}" id="menuErrorMessage" class="error-message">
		<div>⚠️</div>
		<div>
			セッションがタイムアウトしました。再度ログインしてください。
		</div>
	</div>

	<!-- ✅ 共通のヘッダーを読み込む -->
	<div th:replace="fragments/header :: commonHeader"></div>


		<div class="zen-maru-gothic-regular">
			<p class="menu-title1">看護師国家試験</p>
			<p class="menu-title2">必修問題対策</p>
		</div>


		<div class="menu-buttons zen-maru-gothic-regular">
			<a th:href="@{challenge/5}" class="btn" data-message="まずは5問から気軽にスタート！">
				<span class="number">5問</span>
				<span class="label">チャレンジ</span>
			</a>
			<a th:href="@{challenge/10}" class="btn" data-message="少し本気で取り組みたいあなたへ！">
				<span class="number">10問</span>
				<span class="label">チャレンジ</span>
			</a>
			<a th:href="@{challenge/25}" class="btn" data-message="必修問題半日分の問題数に挑戦できる！">
				<span class="number">25問</span>
				<span class="label">チャレンジ</span>
			</a>
			<a th:href="@{challenge/50}" class="btn" data-message="本番の国家試験の必修問題数にチャレンジ！">
				<span class="number">50問</span>
				<span class="label">チャレンジ</span>
			</a>
		</div>
		<div id="hover-message" class="hover-message"></div>



		<div th:if="${param.logout}">
			<p style="color: blue;">ログアウトしました</p>
		</div>

		<div sec:authorize="isAuthenticated()">
			<div sec:authorize="hasAuthority('ADMIN')">
				管理者のみ表示<br>
				<a th:href="@{form}">
					<button type="button">問題の新規登録</button>
				</a>
				<a th:href="@{list}">
					<button type="button">登録済み問題一覧表示</button>
				</a>
				<form th:action="@{pickUp}" method="get">
					<label for="enterId">問題のID検索</label>
					<input type="number" id="enterId" name="id" min="1" th:max="${maxId}">
					<button type="submit">検索</button>
				</form>
				<a th:href="@{bloglist}">
					<button type="button">ブログURL一覧</button>
				</a>
				<a th:href="@{addYearForm}">
					<button type="button">新年度追加</button>
				</a>
			</div>

			<div sec:authorize="hasAuthority('USER')">
				成績表を作る
			</div>


		</div>
		<div th:replace="fragments/footer :: footer"></div>

</body>

</html>